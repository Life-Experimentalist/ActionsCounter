<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="repository" content="__REPO_OWNER_PLACEHOLDER__/__REPO_NAME_PLACEHOLDER__" />
		<title>ActionsCounter - Secure Project Tracker</title>
		<link rel="icon" href="/icon.png" type="image/png" />
		<link rel="shortcut icon" href="/icon.png" type="image/png" />
		<style>
			:root {
				--primary-color: #2563eb;
				--success-color: #10b981;
				--error-color: #ef4444;
				--warning-color: #f59e0b;
				--bg-color: #f8fafc;
				--card-color: #ffffff;
				--text-color: #1f2937;
				--border-color: #e5e7eb;
			}

			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
				background-color: var(--bg-color);
				color: var(--text-color);
				line-height: 1.6;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 20px;
			}

			header {
				background: var(--card-color);
				padding: 20px;
				border-radius: 12px;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
				margin-bottom: 30px;
				text-align: center;
			}

			h1 {
				color: var(--primary-color);
				margin-bottom: 10px;
			}

			.subtitle {
				color: #6b7280;
				font-size: 14px;
			}

			.nav {
				display: flex;
				gap: 10px;
				margin-bottom: 30px;
				flex-wrap: wrap;
			}

			.nav-btn {
				padding: 12px 24px;
				background: var(--card-color);
				border: 2px solid var(--border-color);
				border-radius: 8px;
				cursor: pointer;
				transition: all 0.3s ease;
				font-weight: 500;
			}

			.nav-btn:hover {
				border-color: var(--primary-color);
				background: #eff6ff;
			}

			.nav-btn.active {
				background: var(--primary-color);
				color: white;
				border-color: var(--primary-color);
			}

			.section {
				background: var(--card-color);
				padding: 30px;
				border-radius: 12px;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
			}

			.hidden {
				display: none !important;
			}

			.form-group {
				margin-bottom: 20px;
			}

			label {
				display: block;
				margin-bottom: 5px;
				font-weight: 500;
			}

			input,
			textarea {
				width: 100%;
				padding: 12px;
				border: 2px solid var(--border-color);
				border-radius: 8px;
				font-size: 14px;
				transition: border-color 0.3s ease;
			}

			input:focus,
			textarea:focus {
				outline: none;
				border-color: var(--primary-color);
			}

			textarea {
				height: 80px;
				resize: vertical;
			}

			.btn {
				padding: 12px 24px;
				background: var(--primary-color);
				color: white;
				border: none;
				border-radius: 8px;
				cursor: pointer;
				font-weight: 500;
				transition: all 0.3s ease;
			}

			.btn:hover {
				background: #1d4ed8;
				transform: translateY(-1px);
			}

			.btn-secondary {
				background: #6b7280;
				font-size: 12px;
				padding: 8px 16px;
				margin-right: 8px;
			}

			.btn-danger {
				background: var(--error-color);
				font-size: 12px;
				padding: 8px 16px;
			}

			.btn-danger:hover {
				background: #dc2626;
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 20px;
				margin-bottom: 30px;
			}

			.stat-card {
				background: linear-gradient(
					135deg,
					var(--primary-color),
					#3b82f6
				);
				color: white;
				padding: 20px;
				border-radius: 12px;
				text-align: center;
			}

			.stat-card h3 {
				font-size: 14px;
				margin-bottom: 10px;
				opacity: 0.9;
			}

			.stat-value {
				font-size: 24px;
				font-weight: bold;
			}

			.projects-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 20px;
			}

			.project-card {
				border: 2px solid var(--border-color);
				border-radius: 12px;
				padding: 20px;
				transition: all 0.3s ease;
			}

			.project-card:hover {
				border-color: var(--primary-color);
				transform: translateY(-2px);
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
			}

			.project-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 10px;
			}

			.project-header h3 {
				color: var(--primary-color);
			}

			.ping-count {
				background: #eff6ff;
				color: var(--primary-color);
				padding: 4px 12px;
				border-radius: 20px;
				font-size: 12px;
				font-weight: 500;
			}

			.project-description {
				color: #6b7280;
				margin-bottom: 15px;
				line-height: 1.5;
			}

			.project-url {
				color: var(--primary-color);
				text-decoration: none;
				font-weight: 500;
				display: inline-block;
				margin-bottom: 15px;
			}

			.project-meta {
				font-size: 12px;
				color: #9ca3af;
				margin-bottom: 15px;
			}

			.project-meta span {
				display: block;
			}

			.project-actions {
				display: flex;
				gap: 5px;
				flex-wrap: wrap;
			}

			.message {
				padding: 12px 20px;
				border-radius: 8px;
				margin-bottom: 20px;
				font-weight: 500;
			}

			.message.success {
				background: #d1fae5;
				color: #065f46;
				border: 1px solid #10b981;
			}

			.message.error {
				background: #fee2e2;
				color: #991b1b;
				border: 1px solid #ef4444;
			}

			.message.info {
				background: #dbeafe;
				color: #1e40af;
				border: 1px solid #3b82f6;
			}

			.no-projects {
				text-align: center;
				color: #6b7280;
				padding: 40px;
				font-style: italic;
			}

			.modal-overlay {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: rgba(0, 0, 0, 0.6);
				backdrop-filter: blur(4px);
				display: flex;
				align-items: center;
				justify-content: center;
				z-index: 1000;
				opacity: 0;
				visibility: hidden;
				transition: all 0.3s ease;
			}

			.modal-overlay.show {
				opacity: 1;
				visibility: visible;
			}

			.modal {
				background: var(--card-color);
				border-radius: 16px;
				padding: 0;
				max-width: 600px;
				width: 90%;
				max-height: 85vh;
				overflow-y: auto;
				box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
				transform: scale(0.8) translateY(-20px);
				transition: all 0.3s ease;
			}

			.modal-overlay.show .modal {
				transform: scale(1) translateY(0);
			}

			.modal-header {
				padding: 24px 30px;
				border-bottom: 1px solid var(--border-color);
				display: flex;
				justify-content: space-between;
				align-items: center;
				background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
				border-radius: 16px 16px 0 0;
			}

			.modal-header h3 {
				margin: 0;
				color: var(--primary-color);
				font-size: 18px;
				font-weight: 600;
			}

			.modal-body {
				padding: 30px;
			}

			.close-btn {
				background: rgba(107, 114, 128, 0.1);
				border: none;
				border-radius: 50%;
				width: 32px;
				height: 32px;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 18px;
				cursor: pointer;
				color: #6b7280;
				transition: all 0.2s ease;
			}

			.close-btn:hover {
				background: rgba(239, 68, 68, 0.1);
				color: var(--error-color);
				transform: scale(1.1);
			}

			.webhook-field {
				margin-bottom: 20px;
			}

			.webhook-field label {
				font-weight: 600;
				margin-bottom: 8px;
			}

			.webhook-field input,
			.webhook-field textarea {
				font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
				font-size: 12px;
			}

			.copy-btn {
				background: var(--success-color);
				color: white;
				border: none;
				padding: 6px 12px;
				border-radius: 4px;
				cursor: pointer;
				font-size: 12px;
				margin-left: 10px;
			}

			.top-actions {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 20px;
				flex-wrap: wrap;
				gap: 10px;
			}

			.config-section {
				background: #fef3c7;
				border: 2px solid #fbbf24;
				border-radius: 8px;
				padding: 20px;
				margin-bottom: 20px;
			}

			.config-section h3 {
				color: #92400e;
				margin-bottom: 10px;
			}

			.config-section p {
				color: #92400e;
				font-size: 14px;
			}

			/* Enhanced Modal Form Styling */
			.modal .form-group {
				margin-bottom: 24px;
			}

			.modal label {
				display: block;
				margin-bottom: 8px;
				font-weight: 600;
				color: var(--text-color);
				font-size: 14px;
			}

			.modal input,
			.modal textarea,
			.modal select {
				width: 100%;
				padding: 12px 16px;
				border: 2px solid var(--border-color);
				border-radius: 8px;
				font-size: 14px;
				transition: all 0.2s ease;
				background: white;
			}

			.modal input:focus,
			.modal textarea:focus,
			.modal select:focus {
				outline: none;
				border-color: var(--primary-color);
				box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
			}

			.modal-actions {
				display: flex;
				gap: 12px;
				justify-content: flex-end;
				margin-top: 24px;
				padding-top: 20px;
				border-top: 1px solid var(--border-color);
			}

			.modal-actions .btn {
				min-width: 100px;
			}

			/* Fade overlay animation */
			@keyframes fadeIn {
				from { opacity: 0; }
				to { opacity: 1; }
			}

			@keyframes fadeOut {
				from { opacity: 1; }
				to { opacity: 0; }
			}

			@keyframes slideIn {
				from {
					transform: scale(0.8) translateY(-20px);
					opacity: 0;
				}
				to {
					transform: scale(1) translateY(0);
					opacity: 1;
				}
			}

			@keyframes slideOut {
				from {
					transform: scale(1) translateY(0);
					opacity: 1;
				}
				to {
					transform: scale(0.8) translateY(-20px);
					opacity: 0;
				}
			}

			@media (max-width: 768px) {
				.container {
					padding: 10px;
				}

				.nav {
					flex-direction: column;
				}

				.nav-btn {
					text-align: center;
				}

				.stats-grid {
					grid-template-columns: repeat(2, 1fr);
				}

				.projects-grid {
					grid-template-columns: 1fr;
				}

				.top-actions {
					flex-direction: column;
					align-items: stretch;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<header>
				<h1>ðŸš€ ActionsCounter</h1>
				<p class="subtitle">
					Secure Project Tracking with GitHub Actions
				</p>
			</header>

			<div id="message-container" class="hidden"></div>

			<nav class="nav">
				<button class="nav-btn active" data-target="dashboard">
					ðŸ“Š Dashboard
				</button>
				<button class="nav-btn" data-target="add-project">
					âž• Add Project
				</button>
				<button class="nav-btn" data-target="ping-project">
					ðŸ“¡ Ping Project
				</button>
				<button class="nav-btn" data-target="webhooks">
					ðŸ”— Webhooks
				</button>
			</nav>

			<!-- Dashboard Section -->
			<section id="dashboard" class="section">
				<div class="top-actions">
					<h2>ðŸ“Š Project Dashboard</h2>
					<div>
						<button id="refresh-btn" class="btn">ðŸ”„ Refresh</button>
					</div>
				</div>

				<div class="config-section">
					<h3>âœ… Secure Configuration</h3>
					<p>
						This system uses repository secrets for security.
						All CRUD operations are performed through GitHub Actions with your
						admin password for authentication.
					</p>
				</div>

				<div id="stats-container" class="stats-grid">
					<!-- Stats will be populated here -->
				</div>

				<h3>Your Projects</h3>
				<div id="projects-list" class="projects-grid">
					<!-- Projects will be populated here -->
				</div>
			</section>

			<!-- Add Project Section -->
			<section id="add-project" class="section hidden">
				<h2>âž• Add New Project</h2>
				<p style="margin-bottom: 20px; color: #6b7280">
					Add a new project to track. This requires admin
					authentication.
				</p>

				<form id="add-project-form">
					<div class="form-group">
						<label for="name">Project Name *</label>
						<input
							type="text"
							id="name"
							name="name"
							required
							placeholder="Enter project name"
						/>
					</div>

					<div class="form-group">
						<label for="description">Description</label>
						<textarea
							id="description"
							name="description"
							placeholder="Project description (optional)"
						></textarea>
					</div>

					<div class="form-group">
						<label for="url">Project URL</label>
						<input
							type="url"
							id="url"
							name="url"
							placeholder="https://github.com/user/repo (optional)"
						/>
					</div>

					<button type="submit" class="btn">Add Project</button>
				</form>
			</section>

			<!-- Ping Project Section -->
			<section id="ping-project" class="section hidden">
				<h2>ðŸ“¡ Ping Project</h2>
				<p style="margin-bottom: 20px; color: #6b7280">
					Manually ping a project to increment its counter.
				</p>

				<form id="ping-project-form">
					<div class="form-group">
						<label for="project-name">Project Name *</label>
						<input
							type="text"
							id="project-name"
							name="project-name"
							required
							placeholder="Enter project name"
						/>
					</div>

					<button type="submit" class="btn">Ping Project</button>
				</form>
			</section>

			<!-- Webhooks Section -->
			<section id="webhooks" class="section hidden">
				<h2>ðŸ”— Webhook Information</h2>
				<p style="margin-bottom: 20px; color: #6b7280">
					Use webhooks to automatically ping your projects from
					external services. Click "Get Webhook" on any project in the
					dashboard to generate webhook details.
				</p>

				<div
					style="
						background: #f3f4f6;
						padding: 20px;
						border-radius: 8px;
					"
				>
					<h3>How to use webhooks:</h3>
					<ol style="margin-left: 20px; margin-top: 10px">
						<li>
							Go to the Dashboard and click "Get Webhook" on any
							project
						</li>
						<li>Copy the webhook URL and payload</li>
						<li>
							Configure your external service to send POST
							requests to the webhook URL
						</li>
						<li>
							Include your GitHub token in the Authorization
							header
						</li>
						<li>
							Your project counter will automatically increment
							when pinged
						</li>
					</ol>
				</div>
			</section>
		</div>

		<script type="module" src="src/main.ts"></script>
	</body>
</html>
